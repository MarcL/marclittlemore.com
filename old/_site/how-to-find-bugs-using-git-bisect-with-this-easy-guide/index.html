<!DOCTYPE html>
<html lang="en" itemtype="http://schema.org/Article">

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="An essential guide that will teach you how to use git bisect to quickly and easily find bugs in the history of your project.">

    <title>How To Find Bugs Using Git Bisect With This Easy Guide - Marc Littlemore</title>

    <link rel="canonical" href="http://localhost:4000/how-to-find-bugs-using-git-bisect-with-this-easy-guide/">

    <link rel="stylesheet" href="https://unpkg.com/tachyons@4.7.0/css/tachyons.min.css"/>

    <!-- Custom CSS -->
    
    
    

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <script src="https://kit.fontawesome.com/d38990851e.js" crossorigin="anonymous"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/images/favicons/manifest.json">
<link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="theme-color" content="#ffffff">


    <meta name="p:domain_verify" content="7613bb2239e62b55de06dc926e1b6431"/>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-810717-3', 'auto');
  ga('send', 'pageview');
</script>
    








<!-- Open Graph -->
<meta property="og:site_name" content="Marc Littlemore" />
<meta property="og:url" content="http://localhost:4000/how-to-find-bugs-using-git-bisect-with-this-easy-guide/" />
<meta property="og:title" content="How To Find Bugs Using Git Bisect With This Easy Guide" />
<meta property="og:description" content="An essential guide that will teach you how to use git bisect to quickly and easily find bugs in the history of your project." />

<meta property="og:image" content="http://localhost:4000/images/social/how-to-find-bugs-using-git-bisect-with-this-easy-guide.jpg" />
<meta property="og:type" content="article" />
<meta property="og:locale" content="en_GB" />
<meta property="article:published_time" content="2016-09-29" />
<meta property="article:author" content="https://www.facebook.com/marcdavidlittlemore" />

<!-- Schema.org markup for Google+ -->
<meta itemprop="name" content="How To Find Bugs Using Git Bisect With This Easy Guide">
<meta itemprop="description" content="An essential guide that will teach you how to use git bisect to quickly and easily find bugs in the history of your project.">
<meta itemprop="image" content="http://localhost:4000/images/social/how-to-find-bugs-using-git-bisect-with-this-easy-guide.jpg">

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@marclittlemore">
<meta name="twitter:title" content="How To Find Bugs Using Git Bisect With This Easy Guide">
<meta name="twitter:description" content="An essential guide that will teach you how to use git bisect to quickly and easily find bugs in the history of your project.">
<meta name="twitter:creator" content="@marclittlemore">
<!-- Twitter summary card with large image must be at least 280x150px -->
<meta name="twitter:image:src" content="http://localhost:4000/images/social/how-to-find-bugs-using-git-bisect-with-this-easy-guide.jpg">


    
    <script src="//load.sumome.com/" data-sumo-site-id="a260c264ca479174c95ace07722082ec75abbab6778c364ba7a24230cc55c451" async="async"></script>
    

    
        
    

    <!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window,document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '290377285027331'); 
fbq('track', 'PageView');
</script>
<noscript>
    <img height="1" width="1" 
src="https://www.facebook.com/tr?id=290377285027331&ev=PageView
&noscript=1"/>
</noscript>
<!-- End Facebook Pixel Code -->
</head>


<body class="avenir helvetica bg-white">

    <header class="white w-100 pt2 pb0 pb2-ns" style="z-index:100;">
    <nav class="fw6 ttu tracked tc">
        <div class="db" id="navLinks">
            
                
                    <a class="f7 f5-ns link dim black dib mr2 mr3-ns" href="/" title="marclittlemore.com">Home</a>
                
            
                
                    <a class="f7 f5-ns link dim black dib mr2 mr3-ns" href="/talks/" title="Ideas I've shared">Talks</a>
                
            
                
                    <a class="f7 f5-ns link dim black dib mr2 mr3-ns" href="/bots/" title="Learn how to create your own chatbot">Chatbots</a>
                
            
                
                    <a class="f7 f5-ns link dim black dib mr2 mr3-ns" href="/about/" title="Find out more about me">About</a>
                
            
        </div>
    </nav>
</header>


    <main id="main-content">
  <div class="mw8 center pt2 tc">
      <h1 class="f3 f1-ns black fw6 mt1 mb1 ph1 pv0">
        How To Find Bugs Using Git Bisect With This Easy Guide
      </h1>
      
        <h2 class="f3-ns f5 fw4 lh-copy gray mt1 mb2 ph1">A beginners guide to the world of git bisect.</h2>
      
  </div>

  <div class="mw8 center pt2 tc">
    <img class="w-100 br2 shadow-4" src="/images/banners/computer-code.jpg" title="How To Find Bugs Using Git Bisect With This Easy Guide - A beginners guide to the world of git bisect." alt="How To Find Bugs Using Git Bisect With This Easy Guide - A beginners guide to the world of git bisect." />
  </div>

  <section class="mw8 pa3 mw8-ns ph5-ns center">
    <div class="roboto lh-copy f4-ns f5">
      <p>A source control system is an essential tool if you’re writing software, even for your own side projects. Although I’ve used many version control software over the past 20+ years of development, I’ve only been using <code class="highlighter-rouge">git</code> for the past 3 or 4 years. However it’s quickly become my version control of choice due to its ability to quickly create branches, and its distributed nature. It’s easy to master the basics of <code class="highlighter-rouge">git</code> but, as with most pieces of software, there’s a lot of power available if you choose to go beyond them.</p>

<p>One <code class="highlighter-rouge">git</code> command that you might not have seen or used before is
<code class="highlighter-rouge">git bisect</code>, which is something I’ve only recently started using too. It’s a great tool for quickly tracking down bugs in your project so let’s take a look at how we can use it.</p>

<h3 id="a-wild-bug-appears">A wild bug appears</h3>

<p>I’m currently working on some high-traffic Node.js projects for work and, as I normally do at the start of a new task, I ran <code class="highlighter-rouge">git pull</code> to ensure I had the latest code from our master branch, and then ran <code class="highlighter-rouge">npm install</code> to update any dependencies. I ran the tests to check everything was ok but an odd thing happened: our test suite hung when it finished although all of the tests still passed. <strong>WHAT?</strong> Time to investigate.</p>

<p><img src="/images/posts/a-wild-bug-appeared.jpg" alt="A wild bug appears" title="A wild bug appears" /></p>

<p>I had no idea why this bug had crept into the project, nor when it first appeared in the master branch. My initial thought was that it was the last pull request that had been merged, so I checked out the previous merge instead but again, the tests were still hanging. This felt like a perfect opportunity to try out <code class="highlighter-rouge">git bisect</code> for the first time in order to quickly work out which commit had caused the error.</p>

<h3 id="what-does-the-git-bisect-command-do">What does the “git bisect” command do?</h3>

<p>Bisect performs a <a href="https://en.wikipedia.org/wiki/Binary_search_algorithm">binary search</a> to quickly find out the revision that caused a bug in your project’s history. You do this by telling it which was the “bad” commit, the one which contains the bug, and which was a “good” commit, one in which you think the bug wasn’t there. You can then use <code class="highlighter-rouge">git bisect</code> to pick a commit which is halfway between the two endpoints and you determine whether that one is bad or good. This can be repeated by choosing the revision between these two points until you determine the specific commit which caused the bug. It’s then up to you to look at the code to see what has changed and is probably the cause.</p>

<h3 id="the-git-bisect-process">The “git bisect” process</h3>

<p>The first thing we need to do is tell <code class="highlighter-rouge">git</code> that we’re about to start using bisect by using the <code class="highlighter-rouge">git bisect start</code> command. Before you do this, you should make sure you’ve committed or stashed any local changes to avoid losing any work as it will checkout each revision as we attempt to find the version containing the bug.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git bisect start
</code></pre></div></div>

<p>The next step is to determine when the bug first occurred and when we think that the repository was ok, and tell <code class="highlighter-rouge">git bisect</code> which commit versions these were. This allows it to determine the range of revisions to search through.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Use this if the bug occurs in the current HEAD revision</span>
git bisect bad HEAD

<span class="c"># But if the bug occurs in a specific revision then use its SHA hash</span>
git bisect bad 62c5fa0
</code></pre></div></div>

<p>For the good revision, you can choose an arbitrary place in the past but the more commits that have happened between the two endpoints, the more potential revisions <code class="highlighter-rouge">git bisect</code> will have to check. This will depend on the speed of development in your project but it’s probably wise to not choose a revision in time that was not too far away.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Choose your good revision</span>
git bisect good da5e24d
</code></pre></div></div>

<p>Now that you’ve chosen your two endpoints, <code class="highlighter-rouge">git bisect</code> will choose a revision that’s in the middle of these two and tell you how many more revisions it will need to check from this point.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; git bisect good da5e24d
Bisecting: 54 revisions left to test after this (roughly 6 steps)
[dac781864e62c49b279c122c42d447ed26ad16e2] Merge pull request #100 from features/my-feature
</code></pre></div></div>

<p>It’s now a process of elimination to determine which specific commit caused the bug. You do this by running your test suite or using your project to see if the bug is still present in the current revision. At this point <code class="highlighter-rouge">git bisect</code> wants to know if this commit is good or bad so you answer <code class="highlighter-rouge">git bisect good</code> or <code class="highlighter-rouge">git bisect bad</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; git bisect bad
Bisecting: 27 revisions left to test after this (roughly 5 steps)
[4f455b6e42487657e0492305f025dd82021735d5] some commit message from this revision
</code></pre></div></div>

<p>In my case, the <code class="highlighter-rouge">gulp</code> task was still hanging so I answered that the commit was bad. The revisions are then split into two again and you need to continue to answer whether the revisions are good or bad until you reach the last revision and find the guilty commit. At this point <code class="highlighter-rouge">git bisect</code> will show you which commit caused the problem and you can check the code in this revision to determine what has changed.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>02ce44a7491e9b0151169647115f9a073513e0ce is the first bad commit
commit 02ce44a7491e9b0151169647115f9a073513e0ce
Author: some-author &lt;some-author@gmail.com&gt;
Date:   Mon Sep 12 13:59:20 2016 +0100

    Added some code that might break! :D
</code></pre></div></div>

<p>Once you’ve determined the cause, you’ll want to finish your current <code class="highlighter-rouge">git bisect</code> session. For this you just use the <code class="highlighter-rouge">reset</code> command and it will reset to your <strong>HEAD</strong> to where you were before you started.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git bisect reset
</code></pre></div></div>

<p>Make sure you reset otherwise you will find your local working directory in a strange state, having checked out out a previous revision of the project.</p>

<h3 id="pro-tip-bisect-automation">Pro-tip: Bisect automation</h3>

<p>Manually finding the bugs in your code is helped by using <code class="highlighter-rouge">git bisect</code> but you can make things even faster by automating the process. You simply have to pass a script to be executed by <code class="highlighter-rouge">git bisect run</code>. Doing this will run the script against each bisected commit in order to determine which one causes the script to fail.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Set up our start and endpoints to check against</span>
git bisect start
git bisect bad 62c5fa0
git bisect good da5e24d

<span class="c"># Run our gulp task which executes our</span>
<span class="c"># test suite for each bisected commit</span>
git bisect run gulp <span class="nb">test</span>
</code></pre></div></div>

<p>You’ll have to ensure the script that you’re using fails with a non-zero return value for this to work. For the code that fails in my above discussion, our test suite hung so it wasn’t as easy to use automation here.</p>

<h3 id="conclusion-use-git-bisect">Conclusion: Use “git bisect”</h3>

<p>As you can see, using <code class="highlighter-rouge">git bisect</code> is an easy way to quickly determine where defects have crept into a <code class="highlighter-rouge">git</code> project. You should start using it as its an effective tool to understand. For more information have a read of this great git SCM article on <a href="https://git-scm.com/book/en/v2/Git-Tools-Debugging-with-Git">debugging with git</a>. Also, take some time to look at the <a href="https://git-scm.com/docs/git-bisect">git bisect documentation</a> too.</p>


    </div>
  </section>
</main>


    <footer class="pv4 ph3 ph5-ns tc bg-light-gray bt b--moon-gray">
    <a href="/feed.xml" title="RSS feed" class="link dark-gray hover-silver dib h2 w2 mr3" aria-label="RSS feed icon">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
        </span>
    </a>

    <a href="http://twitter.com/marclittlemore" target="_blank" rel="noreferrer" title="You should follow me on Twitter" class="link dark-gray hover-silver dib h2 w2 mr3" aria-label="Twitter icon">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
    </a>

    <a href="https://github.com/MarcL" target="_blank" rel="noreferrer" title="Follow me on GitHub" class="link dark-gray hover-silver dib h2 w2 mr3" aria-label="GitHub icon">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
        </span>
    </a>

    <a href="https://www.instagram.com/marclittlemore" target="_blank" rel="noreferrer" title="Follow me on Instagram" class="link dark-gray hover-silver dib h2 w2 mr3" aria-label="Instagram icon">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
        </span>
    </a>

    <a href="https://www.reddit.com/user/marclittlemore" target="_blank" rel="noreferrer" title="Upvote me on Reddit" class="link dark-gray hover-silver dib h2 w2 mr3" aria-label="Reddit icon">
        <span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fa fa-reddit fa-stack-1x fa-inverse"></i>
        </span>
    </a>


  <div class="mt4 ttu">
    <a href="/javascript-testing" class="f6 fw5 link underline-hover near-black dib mr3 mr4-ns">JS Testing</a>
    <a href="/now" class="f6 fw5 link underline-hover near-black dib mr3 mr4-ns">Now</a>
    <a href="/uses" class="f6 fw5 link underline-hover near-black dib mr3 mr4-ns">Uses</a>
    <a href="/articles" class="f6 fw5 link underline-hover near-black dib mr3 mr4-ns">Articles</a>
    <a href="/contact" class="f6 fw5 link underline-hover near-black dib">Contact</a>
  </div>
  <div class="mt4 dark-gray f6 fw6 ttu">
      Copyright &copy; Marc Littlemore 2020
  </div>
</footer>

<script async defer data-pin-hover="true" data-pin-color="red" data-pin-tall="true" src="//assets.pinterest.com/js/pinit.js"></script>


</body>

</html>
